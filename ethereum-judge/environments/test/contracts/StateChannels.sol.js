// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"hash","type":"bytes32"},{"name":"sig","type":"bytes"},{"name":"signer","type":"address"}],"name":"ecverify","outputs":[{"name":"b","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"channelId","type":"bytes32"},{"name":"addr0","type":"address"},{"name":"addr1","type":"address"},{"name":"state","type":"bytes"},{"name":"signature0","type":"bytes"},{"name":"signature1","type":"bytes"}],"name":"addChannel","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"hash","type":"bytes32"},{"name":"sig","type":"bytes"}],"name":"ecrecovery","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"channels","outputs":[{"name":"channelId","type":"bytes32"},{"name":"addr0","type":"address"},{"name":"addr1","type":"address"},{"name":"state","type":"bytes"},{"name":"signature0","type":"bytes"},{"name":"signature1","type":"bytes"},{"name":"phase","type":"uint8"}],"type":"function"},{"constant":false,"inputs":[{"name":"receiver","type":"address"},{"name":"amount","type":"uint256"}],"name":"sendCoin","outputs":[{"name":"sufficient","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"channelId","type":"bytes32"}],"name":"getChannelState","outputs":[{"name":"","type":"bytes"}],"type":"function"},{"constant":false,"inputs":[{"name":"addr","type":"address"}],"name":"getBalance","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"inputs":[],"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"message","type":"string"}],"name":"Error","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"label","type":"string"},{"indexed":false,"name":"message","type":"string"}],"name":"LogString","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"label","type":"string"},{"indexed":false,"name":"message","type":"bytes32"}],"name":"LogBytes","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"label","type":"string"},{"indexed":false,"name":"message","type":"bytes32"}],"name":"LogBytes32","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"num","type":"uint8"}],"name":"LogNum","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"num","type":"uint256"}],"name":"LogNum256","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"b","type":"bool"}],"name":"LogBool","type":"event"}],
    binary: "6060604052600160a060020a03321660009081526020819052604090206127109055610bf28061002f6000396000f3606060405236156100615760e060020a600035046339cdde3281146100635780636c37b30a146100c557806377d32e94146102805780637a7ebd7b1461031d57806390b98a111461036c578063d18da8b11461039b578063f8b2cb4f14610419575b005b60408051602060248035600481810135601f810185900485028601850190965285855261043e958135959194604494929390920191819084018382808284375094965050933593505050505b600081600160a060020a031661076a85856102ca565b604080516020606435600481810135601f810184900484028501840190955284845261006194813594602480359560443595608494920191908190840183828082843750506040805160209735808a0135601f81018a90048a0283018a0190935282825296989760a4979196506024919091019450909250829150840183828082843750506040805160209735808a0135601f81018a90048a0283018a0190935282825296989760c49791965060249190910194509092508291508401838280828437509496505050505050506040805160e081018252600080825260208281018290528284018290528351808201855282815260608401528351808201855282815260808401528351808201855282815260a084015260c08301829052898252600190529182205488141561084957604080516020808252602a908201527f6368616e6e656c20776974682074686174206368616e6e656c496420616c7265818301527f6164792065786973747300000000000000000000000000000000000000000000606082015290517f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa9181900360800190a161083f565b60408051602060248035600481810135601f810185900485028601850190965285855261045095813595919460449492939092019181908401838280828437509496505050505050505b60006000600060007f28d9a4664ab5cb57d0a13e35c1cc553801648793127552f85cfeac2fc4d6ca8e85516040518082815260200191505060405180910390a1845160411461068a575b50505092915050565b61046d600435600160208190526000918252604090912080549181015460028201546006830154600160a060020a03928316939190921691600382019160048101916005919091019060ff1687565b61043e60043560243533600160a060020a0316600090815260208190526040812054829010156107b6576107e8565b6040805160208181018352600080835260043580825260018084529185902060030180548651600294821615610100026000190190911693909304601f810185900485028401850190965285835261061c959194939091908301828280156108195780601f106107ee57610100808354040283529160200191610819565b61043e600435600160a060020a0381166000908152602081905260409020545b919050565b60408051918252519081900360200190f35b60408051600160a060020a03929092168252519081900360200190f35b60408051888152600160a060020a03888116602083015287169181019190915260ff821660c082015260e06060820181815286546002600182161561010090810260001901909216049284018390529091608084019160a0850191908501908990801561051b5780601f106104f05761010080835404028352916020019161051b565b820191906000526020600020905b8154815290600101906020018083116104fe57829003601f168201915b5050848103835287546002600182161561010002600019019091160480825260209190910190889080156105905780601f1061056557610100808354040283529160200191610590565b820191906000526020600020905b81548152906001019060200180831161057357829003601f168201915b5050848103825286546002600182161561010002600019019091160480825260209190910190879080156106055780601f106105da57610100808354040283529160200191610605565b820191906000526020600020905b8154815290600101906020018083116105e857829003601f168201915b50509a505050505050505050505060405180910390f35b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561067c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b50506040805160208581015186840151604188015160ff81168552945191955093927f6eb4dfa3aaaccfd9808ba31f45f31c585da5460677f6491f773cba39ee872c3492908290030190a1601b8160ff1610156106e557601b015b6040805160ff8316815290517f6eb4dfa3aaaccfd9808ba31f45f31c585da5460677f6491f773cba39ee872c349181900360200190a1600186828585604051808581526020018460ff1681526020018381526020018281526020019450505050506020604051808303816000866161da5a03f115610002575050604051519350610314565b600160a060020a031614905080507fc33356bc2bad2ce263b056da5d061d4e89c336823d5e77f14c1383aedb7a1b3a816040518082815260200191505060405180910390a19392505050565b5033600160a060020a039081166000908152602081905260408082208054859003905591841681522080548201905560015b92915050565b820191906000526020600020905b8154815290600101906020018083116107fc57829003601f168201915b50505050509050610439565b505060c091909101516006909101805460ff191690911790555b5050505050505050565b878787876040518085815260200184600160a060020a03166c0100000000000000000000000002815260140183600160a060020a03166c010000000000000000000000000281526014018280519060200190808383829060006004602084601f0104600f02600301f150905001945050505050604051809103902091506108d18285896100af565b151561093c576040805160208082526012908201527f7369676e61747572653020696e76616c696400000000000000000000000000008183015290517f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa9181900360600190a161083f565b6109478284886100af565b15156109b2576040805160208082526012908201527f7369676e61747572653120696e76616c696400000000000000000000000000008183015290517f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa9181900360600190a161083f565b506040805160e0810182528881526020818101898152828401898152606084018981526080850189905260a08501889052600060c086018190528d81526001808652968120865181559351848801805473ffffffffffffffffffffffffffffffffffffffff1990811690921790559251600285810180549095169091179093559051805160038501805481855293879020979889989697919690851615610100026000190190941694909404601f90810185900484019491939290910190839010610aa057805160ff19168380011785555b50610ad09291505b80821115610b2f5760008155600101610a8c565b82800160010185558215610a84579182015b82811115610a84578251826000505591602001919060010190610ab2565b50506080820151816004016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610b3357805160ff19168380011785555b50610b63929150610a8c565b5090565b82800160010185558215610b23579182015b82811115610b23578251826000505591602001919060010190610b45565b505060a0820151816005016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610bc257805160ff19168380011785555b50610825929150610a8c565b82800160010185558215610bb6579182015b82811115610bb6578251826000505591602001919060010190610bd456",
    unlinked_binary: "6060604052600160a060020a03321660009081526020819052604090206127109055610bf28061002f6000396000f3606060405236156100615760e060020a600035046339cdde3281146100635780636c37b30a146100c557806377d32e94146102805780637a7ebd7b1461031d57806390b98a111461036c578063d18da8b11461039b578063f8b2cb4f14610419575b005b60408051602060248035600481810135601f810185900485028601850190965285855261043e958135959194604494929390920191819084018382808284375094965050933593505050505b600081600160a060020a031661076a85856102ca565b604080516020606435600481810135601f810184900484028501840190955284845261006194813594602480359560443595608494920191908190840183828082843750506040805160209735808a0135601f81018a90048a0283018a0190935282825296989760a4979196506024919091019450909250829150840183828082843750506040805160209735808a0135601f81018a90048a0283018a0190935282825296989760c49791965060249190910194509092508291508401838280828437509496505050505050506040805160e081018252600080825260208281018290528284018290528351808201855282815260608401528351808201855282815260808401528351808201855282815260a084015260c08301829052898252600190529182205488141561084957604080516020808252602a908201527f6368616e6e656c20776974682074686174206368616e6e656c496420616c7265818301527f6164792065786973747300000000000000000000000000000000000000000000606082015290517f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa9181900360800190a161083f565b60408051602060248035600481810135601f810185900485028601850190965285855261045095813595919460449492939092019181908401838280828437509496505050505050505b60006000600060007f28d9a4664ab5cb57d0a13e35c1cc553801648793127552f85cfeac2fc4d6ca8e85516040518082815260200191505060405180910390a1845160411461068a575b50505092915050565b61046d600435600160208190526000918252604090912080549181015460028201546006830154600160a060020a03928316939190921691600382019160048101916005919091019060ff1687565b61043e60043560243533600160a060020a0316600090815260208190526040812054829010156107b6576107e8565b6040805160208181018352600080835260043580825260018084529185902060030180548651600294821615610100026000190190911693909304601f810185900485028401850190965285835261061c959194939091908301828280156108195780601f106107ee57610100808354040283529160200191610819565b61043e600435600160a060020a0381166000908152602081905260409020545b919050565b60408051918252519081900360200190f35b60408051600160a060020a03929092168252519081900360200190f35b60408051888152600160a060020a03888116602083015287169181019190915260ff821660c082015260e06060820181815286546002600182161561010090810260001901909216049284018390529091608084019160a0850191908501908990801561051b5780601f106104f05761010080835404028352916020019161051b565b820191906000526020600020905b8154815290600101906020018083116104fe57829003601f168201915b5050848103835287546002600182161561010002600019019091160480825260209190910190889080156105905780601f1061056557610100808354040283529160200191610590565b820191906000526020600020905b81548152906001019060200180831161057357829003601f168201915b5050848103825286546002600182161561010002600019019091160480825260209190910190879080156106055780601f106105da57610100808354040283529160200191610605565b820191906000526020600020905b8154815290600101906020018083116105e857829003601f168201915b50509a505050505050505050505060405180910390f35b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561067c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b50506040805160208581015186840151604188015160ff81168552945191955093927f6eb4dfa3aaaccfd9808ba31f45f31c585da5460677f6491f773cba39ee872c3492908290030190a1601b8160ff1610156106e557601b015b6040805160ff8316815290517f6eb4dfa3aaaccfd9808ba31f45f31c585da5460677f6491f773cba39ee872c349181900360200190a1600186828585604051808581526020018460ff1681526020018381526020018281526020019450505050506020604051808303816000866161da5a03f115610002575050604051519350610314565b600160a060020a031614905080507fc33356bc2bad2ce263b056da5d061d4e89c336823d5e77f14c1383aedb7a1b3a816040518082815260200191505060405180910390a19392505050565b5033600160a060020a039081166000908152602081905260408082208054859003905591841681522080548201905560015b92915050565b820191906000526020600020905b8154815290600101906020018083116107fc57829003601f168201915b50505050509050610439565b505060c091909101516006909101805460ff191690911790555b5050505050505050565b878787876040518085815260200184600160a060020a03166c0100000000000000000000000002815260140183600160a060020a03166c010000000000000000000000000281526014018280519060200190808383829060006004602084601f0104600f02600301f150905001945050505050604051809103902091506108d18285896100af565b151561093c576040805160208082526012908201527f7369676e61747572653020696e76616c696400000000000000000000000000008183015290517f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa9181900360600190a161083f565b6109478284886100af565b15156109b2576040805160208082526012908201527f7369676e61747572653120696e76616c696400000000000000000000000000008183015290517f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa9181900360600190a161083f565b506040805160e0810182528881526020818101898152828401898152606084018981526080850189905260a08501889052600060c086018190528d81526001808652968120865181559351848801805473ffffffffffffffffffffffffffffffffffffffff1990811690921790559251600285810180549095169091179093559051805160038501805481855293879020979889989697919690851615610100026000190190941694909404601f90810185900484019491939290910190839010610aa057805160ff19168380011785555b50610ad09291505b80821115610b2f5760008155600101610a8c565b82800160010185558215610a84579182015b82811115610a84578251826000505591602001919060010190610ab2565b50506080820151816004016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610b3357805160ff19168380011785555b50610b63929150610a8c565b5090565b82800160010185558215610b23579182015b82811115610b23578251826000505591602001919060010190610b45565b505060a0820151816005016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610bc257805160ff19168380011785555b50610825929150610a8c565b82800160010185558215610bb6579182015b82811115610bb6578251826000505591602001919060010190610bd456",
    address: "0x093dea3076e0c732efbf5b4dfc1cf8ea734ec06a",
    generated_with: "2.0.6",
    contract_name: "StateChannels"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("StateChannels error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("StateChannels error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("StateChannels error: lease call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("StateChannels error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.StateChannels = Contract;
  }

})();
